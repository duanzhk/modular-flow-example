{"version":3,"sources":["file:///Users/dzk/Documents/git-projects/example-mflow/node_modules/dzkcc-mflow/dist/libs/CocosCore.js"],"names":["Core","CocosCore","Component","AbstractCore","autoRegister","ServiceLocator","UIManager","ResLoader","Broadcaster","initialize","console","log","regService","queueMicrotask","onLoad"],"mappings":";;;iJASMA,I,EAYAC,S;;;;;;AArBGC,MAAAA,S,OAAAA,S;;AACAC,MAAAA,Y,gBAAAA,Y;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,W,iBAAAA,W;;;;;AAGHR,MAAAA,I,GAAN,MAAMA,IAAN,SAAmBG,YAAnB,CAAgC;AAC5BM,QAAAA,UAAU,GAAG;AACTC,UAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EADS,CAET;;AACAN,UAAAA,cAAc,CAACO,UAAf,CAA0B,cAA1B,EAA0C,IAAIJ,WAAJ,EAA1C;AACAH,UAAAA,cAAc,CAACO,UAAf,CAA0B,WAA1B,EAAuC,IAAIL,SAAJ,EAAvC;AACAF,UAAAA,cAAc,CAACO,UAAf,CAA0B,WAA1B,EAAuC,IAAIN,SAAJ,EAAvC,EALS,CAMT;AACA;;AACAO,UAAAA,cAAc,CAAC,MAAMT,YAAY,CAAC,IAAD,CAAnB,CAAd;AACH;;AAV2B,O;;2BAY1BH,S,GAAN,MAAMA,SAAN,SAAwBC,SAAxB,CAAkC;AAC9BY,QAAAA,MAAM,GAAG;AACLT,UAAAA,cAAc,CAACO,UAAf,CAA0B,MAA1B,EAAkC,IAAIZ,IAAJ,EAAlC;AACH;;AAH6B,O","sourcesContent":["import { Component } from 'cc';\nimport { AbstractCore } from '../core/Core.js';\nimport { autoRegister } from '../core/Decorators.js';\nimport { ServiceLocator } from '../core/ServiceLocator.js';\nimport { UIManager } from './UIManager.js';\nimport { ResLoader } from './ResLoader.js';\nimport { Broadcaster } from './Broadcaster.js';\nimport '../App.js';\n\nclass Core extends AbstractCore {\r\n    initialize() {\r\n        console.log('Core fromework initialize');\r\n        // 注册框架基础服务\r\n        ServiceLocator.regService('EventManager', new Broadcaster());\r\n        ServiceLocator.regService('ResLoader', new ResLoader());\r\n        ServiceLocator.regService('UIManager', new UIManager());\r\n        // 注册业务模块（通过装饰器自动注册）\r\n        // 推迟到构造函数执行完毕\r\n        queueMicrotask(() => autoRegister(this));\r\n    }\r\n}\r\nclass CocosCore extends Component {\r\n    onLoad() {\r\n        ServiceLocator.regService('core', new Core());\r\n    }\r\n}\n\nexport { CocosCore };\n"]}